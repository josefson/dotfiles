# UTILS {{{
# kill focused window
bindsym $super+q kill
# mbutton on titlebar kills
bindsym --release button2 kill
# reload the configuration file
bindsym $super+Shift+c reload
# restart i3 inplace
bindsym $super+Shift+r restart;
# exit i3
bindsym $super+Shift+q exec i3-msg exit
# lock
# lightdm
bindsym $super+Shift+x exec dm-tool lock
# bindsym $super+Shift+x exec i3lock --color 475263
# exit i3 (logs you out of your X session)
# bindsym $super+Shift+x exec "i3-nagbar -t warning -m \
#     'You pressed the exit shortcut. Do you really want to exit i3? \
#     This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"
# }}}
# APPEARANCE
font pango:SF Pro 13
hide_edge_borders smart # none|smart|both
# COLORS                border  backgrd text    indicator
# set window colors
client.focused          #4E9C00 #4E9C00 #FFFFFF #FFFFFF
client.focused_inactive #1B3600 #1B3600 #FFFFFF #FFFFFF
client.unfocused        #333333 #333333 #888888 #FFFFFF
client.urgent           #C20000 #C20000 #FFFFFF #FFFFFF
# GAPS {{{
# smart_gaps on
# smart_borders on
# gaps inner 10
# gaps outer 0
for_window [class="^.*"] border pixel 3
# }}}
# BARS {{{
    bar {
        font pango:SF Pro Text 10
        id bar1
        status_command py3status -c ~/.config/i3status/config
        mode dock
        position top
        tray_output none
        separator_symbol ""
        workspace_buttons yes
        strip_workspace_numbers yes
        binding_mode_indicator yes
        colors {
                             # border  backgrd text
            focused_workspace  #4E9C00 #4E9C00 #FFFFFF
            active_workspace   #333333 #333333 #FFFFFF
            inactive_workspace #333333 #333333 #888888
            urgent_workspace   #C20000 #C20000 #FFFFFF
        }
    }
    bar {
        id bar2
        font pango:SF Pro Text 10
        mode hide
        hidden_state hide
        modifier $alt
        position top
        tray_output primary
        tray_padding 0
        workspace_buttons no
    }
# }}}
# BEHAVIOR {{{
    focus_follows_mouse no
    # Mouse+$super to drag floating windows
    floating_modifier $alt
    # If popup when fullscreen
    popup_during_fullscreen smart
    # $super+self go to prev workspace
    workspace_auto_back_and_forth yes
    # delay windows hint focus uppon wkspc change
    force_display_urgency_hint 500 ms
    # Focus if the windows is in the cur wkspc
    focus_on_window_activation smart
# }}}
# BINDINGS {{{
    # Variables
    set $super    Mod4
    set $alt      Mod1
    set $swap     Mod4+Control
    set $exec     exec --no-startup-id
    set $always   exec_always --no-startup-id
    # Default applications
    set $filer    ranger
    set $browser  qutebrowser
    set $terminal urxvt
    set $player   mpv
    # General bindings
    bindsym $super+Tab              workspace back_and_forth
    bindsym XF86AudioRaiseVolume    $exec pactl set-sink-volume 0 +5%
    bindsym XF86AudioLowerVolume    $exec pactl set-sink-volume 0 -5%
    bindsym XF86AudioMute           $exec pactl set-sink-mute 0 toggle
    bindsym XF86MonBrightnessUp     $exec light -A 5
    bindsym XF86MonBrightnessDown   $exec light -U 5
    # free keys
    # bindsym a, m, y, i, p
    # APP SHORTCUTS {{{
        bindsym $super+t        $exec $terminal
        bindsym $super+b        $exec $browser
        bindsym $super+s        $exec $HOME/bin/say.sh $(xclip -selection primary -o)
        bindsym $super+space    $exec rofi -show drun
        bindsym $super+o        $exec rofi -show run
        bindsym $super+grave    $exec rofi -show window
        bindsym $super+g        $exec xdg-open "$(locate $HOME | rofi -matching regex -threads 4 -dmenu -i -p 'locate:')"
        bindsym Print           $exec $HOME/bin/shoot.sh -wc
        bindsym $super+Print    $exec $HOME/bin/shoot.sh -sc
    # }}}
    # TREE {{{
        bindsym $super+u        focus parent
        bindsym $super+d        focus child
        bindsym $super+f        fullscreen  toggle
        bindsym $super+Shift+f  fullscreen  toggle global
        # Change container layout (stacked, tabbed, default)
        bindsym $super+w layout tabbed
        bindsym $super+e layout stacking
        bindsym $super+r layout toggle split
        # SetNext container as: split[h|v], stab, stack
        bindsym $super+bar      split h
        bindsym $super+minus    split v
        bindsym $super+Shift+w  split t; layout tabbed
        bindsym $super+Shift+e  split t; layout stacking
        # toggle tiling / floating
        bindsym $super+z        floating toggle
        # change focus between tiling / floating windows
        bindsym $super+x        focus mode_toggle
        bindsym $super+bracketright     move scratchpad
        bindsym $super+bracketleft      scratchpad show
    # }}}
    # WORKSPACES {{{
        set $w1 1:Waystone
        set $w2 2:Eolian
        set $w3 3:Fae
        set $w4 4:Ademre
        # switch to workspace
        bindsym $super+1 workspace $w1
        bindsym $super+2 workspace $w2
        bindsym $super+3 workspace $w3
        bindsym $super+4 workspace $w4
        bindsym $super+5 workspace 5
        bindsym $super+6 workspace 6
        bindsym $super+7 workspace 7
        bindsym $super+8 workspace 8
        bindsym $super+9 workspace 9
        bindsym $super+0 workspace 10
        # move focused container to workspace
        bindsym $super+Shift+1 move container to workspace $w1
        bindsym $super+Shift+2 move container to workspace $w2
        bindsym $super+Shift+3 move container to workspace $w3
        bindsym $super+Shift+4 move container to workspace $w4
        bindsym $super+Shift+5 move container to workspace 5
        bindsym $super+Shift+6 move container to workspace 6
        bindsym $super+Shift+7 move container to workspace 7
        bindsym $super+Shift+8 move container to workspace 8
        bindsym $super+Shift+9 move container to workspace 9
        bindsym $super+Shift+0 move container to workspace 10
        # move the whole workspace to the next output
        bindsym $super+Control+l move workspace to output right
        bindsym $super+Control+h move workspace to output left
    # }}}
    # MOVEMENT {{{
        # change focus
        bindsym $super+h focus left
        bindsym $super+j focus down
        bindsym $super+k focus up
        bindsym $super+l focus right
        # # move focused window
        bindsym $alt+h   move  left
        bindsym $alt+j   move  down
        bindsym $alt+k   move  up
        bindsym $alt+l   move  right
    # }}}
    # MODES {{{
        bindsym $super+semicolon mode "Normal"
        mode "Normal" {
            # Get back from inception
            bindsym $super+semicolon mode "default"
            bindsym BackSpace mode "default"
            bindsym Return mode "default"
            bindsym Escape mode "default"
            bindsym Control+c mode "default"
            # Actions
            bindsym r mode "Normal:Resize"
            bindsym w mode "Normal:Walls:  [D]efault  [S]elect  [R]andom"
            bindsym q mode "Normal:Quake"
            bindsym p mode "Normal:PrintScreen:  [W]in  [F]ull  [S]el  [I]mgur"
            bindsym m mode "Normal:Music"
            bindsym k mode "Normal:Keyboard:  [e]n  [i]nt [b]r"
        }
    # QUAKE {{{
        mode "Normal:Quake" {
            # Get back from inception
            bindsym $super+semicolon mode "default"
            bindsym BackSpace mode "default"
            bindsym Return mode "default"
            bindsym Escape mode "default"
            bindsym Control+c mode "default"
            # Actions
            bindsym h $exec urxvt --transparent -name quake_left -g 80x47; mode "default"
            bindsym j $exec urxvt --transparent -name quake_bot -g 174x20; mode "default"
            bindsym k $exec urxvt --transparent -name quake_top -g 174x20; mode "default"
            bindsym l $exec urxvt --transparent -name quake_right -g 80x47; mode "default"
            bindsym w [instance="quake_top"] scratchpad show
        }
    # }}}
        # RESIZE {{{
        mode "Normal:Resize" {
            # Get back from inception
            bindsym $super+semicolon mode "default"
            bindsym BackSpace mode "default"
            bindsym Return mode "default"
            bindsym Escape mode "default"
            bindsym Control+c mode "default"
            # Actions
            bindsym h       resize shrink width  5  px or 5  ppt; mode "default"
            bindsym j       resize grow   height 5  px or 5  ppt; mode "default"
            bindsym k       resize shrink height 5  px or 5  ppt; mode "default"
            bindsym l       resize grow   width  5  px or 5  ppt; mode "default"
            bindsym Shift+h resize shrink width  10 px or 10 ppt; mode "default"
            bindsym Shift+j resize grow   height 10 px or 10 ppt; mode "default"
            bindsym Shift+k resize shrink height 10 px or 10 ppt; mode "default"
            bindsym Shift+l resize grow   width  10 px or 10 ppt; mode "default"
        }
        # }}}
        # WALLS {{{
            set $walls $HOME/Pictures/Wallpapers
            mode "Normal:Walls:  [D]efault  [S]elect  [R]andom" {
                # Get back from inception
                bindsym $super+semicolon mode "default"
                bindsym BackSpace mode "default"
                bindsym Return mode "default"
                bindsym Escape mode "default"
                bindsym Control+c mode "default"
                # Actions
                bindsym d $exec feh --bg-scale $walls/auri_and_kvothe.jpg; mode "default"
                bindsym r $exec feh --randomize --bg-scale $walls/; mode "default"
                bindsym s $exec nitrogen $walls; mode "default"
            }
        # }}}
        # SCREENSHOT {{{
            mode "Normal:PrintScreen:  [W]in  [F]ull  [S]el  [I]mgur" {
                # Get back from inception
                bindsym $super+semicolon mode "default"
                bindsym BackSpace mode "default"
                bindsym Return mode "default"
                bindsym Escape mode "default"
                bindsym Control+c mode "default"
                # Actions
                # [focus|full|selection] [clipboard|file]
                bindsym $super+w $exec $HOME/bin/shoot.sh -w; mode "default"
                bindsym $super+f $exec $HOME/bin/shoot.sh -f; mode "default"
                bindsym $super+s $exec $HOME/bin/shoot.sh -s; mode "default"
                bindsym w $exec $HOME/bin/shoot.sh -wc; mode "default"
                bindsym f $exec $HOME/bin/shoot.sh -fc; mode "default"
                bindsym s $exec $HOME/bin/shoot.sh -sc; mode "default"
                bindsym i $exec $HOME/bin/shoot.sh -i; mode "default"
            }
        # }}}
        # MUSIC {{{
            mode "Normal:Music" {
                # Get back from inception
                bindsym $super+semicolon mode "default"
                bindsym BackSpace mode "default"
                bindsym Return mode "default"
                bindsym Escape mode "default"
                bindsym Control+c mode "default"
                # Actions
            }
        # }}}
        # KEYBOARD {{{
            mode "Normal:Keyboard:  [e]n  [i]nt [b]r" {
                # Get back from inception
                bindsym $super+semicolon mode "default"
                bindsym BackSpace mode "default"
                bindsym Return mode "default"
                bindsym Escape mode "default"
                bindsym Control+c mode "default"
                # Actions
                set $kb exec py3-cmd refresh keyboard_layout
                bindsym i $exec setxkbmap -layout us -variant intl; $kb; mode "default"
                bindsym e $exec setxkbmap -layout us; $kb; mode "default"
                bindsym b $exec setxkbmap -layout br; $kb; mode "default"
            }
    # }}}
# }}}
# WINDOWS RULES {{{
    # for_window <criteria> <command>
    for_window [class="Pavucontrol"] floating enable
    #for_window [class="Kalu"] floating enable
    for_window [window_type="dialog"] floating enable
    for_window [window_type="splash"] floating enable
    for_window [window_type="utility"] floating enable
    ## Quake style
    for_window [instance="quake_top"] border 1pixel, floating enable, move position 0px 0px
    for_window [instance="quake_bot"] border 1pixel, floating enable, move position 0px 610px
    for_window [instance="quake_left"] border 1pixel, floating enable, move position 0px 0px
    for_window [instance="quake_right"] border 1pixel, floating enable, move position 1033px 0px
    ##ASSIGNMENTS windows to workspaces
    assign [class="Telegram"] → $w2
    assign [class="Skype"] → $w2
    assign [class="Discord"] → $w2
# }}}
# }}}
# AUTOSTART APPS {{{
    #Caps->Control Alt_L<->Super_L LR_Shift->Caps
    $always setxkbmap -option caps:ctrl_modifier -option altwin:swap_lalt_lwin -option shift:both_capslock_cancel
    #Wallpaper
    $exec feh --bg-scale $walls/auri_and_kvothe.jpg
    #Display Power Manage - Prevent Display from blanking
    $exec sleep 1; xset s off -dpms
    $exec transmission-daemon
    # $exec synergy - c ~/synergy.conf
    # $exec syncthing-gtk -m
# }}}
# vim: fdm=marker nowrap
